"use strict";(self["webpackChunksub_web"]=self["webpackChunksub_web"]||[]).push([[985],{81:function(e,t,o){var r=o(9565),n=o(9306),s=o(8551),i=o(6823),l=o(851),a=TypeError;e.exports=function(e,t){var o=arguments.length<2?l(e):t;if(n(o))return s(r(o,e));throw new a(i(e)+" is not iterable")}},507:function(e,t,o){var r=o(9565);e.exports=function(e,t,o){var n,s,i=o?e:e.iterator,l=e.next;while(!(n=r(l,i)).done)if(s=t(n.value),void 0!==s)return s}},851:function(e,t,o){var r=o(6955),n=o(5966),s=o(4117),i=o(6269),l=o(8227),a=l("iterator");e.exports=function(e){if(!s(e))return n(e,a)||n(e,"@@iterator")||i[r(e)]}},1698:function(e,t,o){var r=o(6518),n=o(4204),s=o(4916);r({target:"Set",proto:!0,real:!0,forced:!s("union")},{union:n})},2140:function(e,t,o){var r=o(8227),n=r("toStringTag"),s={};s[n]="z",e.exports="[object z]"===String(s)},2475:function(e,t,o){var r=o(6518),n=o(8527),s=o(4916),i=!s("isSupersetOf",(function(e){return!e}));r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:n})},2489:function(e,t,o){var r=o(6518),n=o(9565),s=o(9306),i=o(8551),l=o(1767),a=o(9462),c=o(6319),u=o(6395),f=o(9539),m=o(4549),d=!u&&m("filter",TypeError),p=a((function(){var e,t,o,r=this.iterator,s=this.predicate,l=this.next;while(1){if(e=i(n(l,r)),t=this.done=!!e.done,t)return;if(o=e.value,c(r,s,[o,this.counter++],!0))return o}}));r({target:"Iterator",proto:!0,real:!0,forced:u||d},{filter:function(e){i(this);try{s(e)}catch(t){f(this,"throw",t)}return d?n(d,this,e):new p(l(this),{predicate:e})}})},2652:function(e,t,o){var r=o(6080),n=o(9565),s=o(8551),i=o(6823),l=o(4209),a=o(6198),c=o(1625),u=o(81),f=o(851),m=o(9539),d=TypeError,p=function(e,t){this.stopped=e,this.result=t},h=p.prototype;e.exports=function(e,t,o){var b,g,S,v,y,C,x,w=o&&o.that,R=!(!o||!o.AS_ENTRIES),k=!(!o||!o.IS_RECORD),L=!(!o||!o.IS_ITERATOR),A=!(!o||!o.INTERRUPTED),U=r(t,w),_=function(e){return b&&m(b,"normal",e),new p(!0,e)},I=function(e){return R?(s(e),A?U(e[0],e[1],_):U(e[0],e[1])):A?U(e,_):U(e)};if(k)b=e.iterator;else if(L)b=e;else{if(g=f(e),!g)throw new d(i(e)+" is not iterable");if(l(g)){for(S=0,v=a(e);v>S;S++)if(y=I(e[S]),y&&c(h,y))return y;return new p(!1)}b=u(e,g)}C=k?e.next:b.next;while(!(x=n(C,b)).done){try{y=I(x.value)}catch(T){m(b,"throw",T)}if("object"==typeof y&&y&&c(h,y))return y}return new p(!1)}},3440:function(e,t,o){var r=o(7080),n=o(4402),s=o(9286),i=o(5170),l=o(3789),a=o(8469),c=o(507),u=n.has,f=n.remove;e.exports=function(e){var t=r(this),o=l(e),n=s(t);return i(t)<=o.size?a(t,(function(e){o.includes(e)&&f(n,e)})):c(o.getIterator(),(function(e){u(t,e)&&f(n,e)})),n}},3650:function(e,t,o){var r=o(7080),n=o(4402),s=o(9286),i=o(3789),l=o(507),a=n.add,c=n.has,u=n.remove;e.exports=function(e){var t=r(this),o=i(e).getIterator(),n=s(t);return l(o,(function(e){c(t,e)?u(n,e):a(n,e)})),n}},3789:function(e,t,o){var r=o(9306),n=o(8551),s=o(9565),i=o(1291),l=o(1767),a="Invalid size",c=RangeError,u=TypeError,f=Math.max,m=function(e,t){this.set=e,this.size=f(t,0),this.has=r(e.has),this.keys=r(e.keys)};m.prototype={getIterator:function(){return l(n(s(this.keys,this.set)))},includes:function(e){return s(this.has,this.set,e)}},e.exports=function(e){n(e);var t=+e.size;if(t!==t)throw new u(a);var o=i(t);if(o<0)throw new c(a);return new m(e,o)}},3838:function(e,t,o){var r=o(7080),n=o(5170),s=o(8469),i=o(3789);e.exports=function(e){var t=r(this),o=i(e);return!(n(t)>o.size)&&!1!==s(t,(function(e){if(!o.includes(e))return!1}),!0)}},3853:function(e,t,o){var r=o(6518),n=o(4449),s=o(4916),i=!s("isDisjointFrom",(function(e){return!e}));r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:n})},4114:function(e,t,o){var r=o(6518),n=o(8981),s=o(6198),i=o(4527),l=o(6837),a=o(9039),c=a((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},f=c||!u();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(e){var t=n(this),o=s(t),r=arguments.length;l(o+r);for(var a=0;a<r;a++)t[o]=arguments[a],o++;return i(t,o),o}})},4204:function(e,t,o){var r=o(7080),n=o(4402).add,s=o(9286),i=o(3789),l=o(507);e.exports=function(e){var t=r(this),o=i(e).getIterator(),a=s(t);return l(o,(function(e){n(a,e)})),a}},4209:function(e,t,o){var r=o(8227),n=o(6269),s=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[s]===e)}},4376:function(e,t,o){var r=o(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4402:function(e,t,o){var r=o(9504),n=Set.prototype;e.exports={Set:Set,add:r(n.add),has:r(n.has),remove:r(n["delete"]),proto:n}},4449:function(e,t,o){var r=o(7080),n=o(4402).has,s=o(5170),i=o(3789),l=o(8469),a=o(507),c=o(9539);e.exports=function(e){var t=r(this),o=i(e);if(s(t)<=o.size)return!1!==l(t,(function(e){if(o.includes(e))return!1}),!0);var u=o.getIterator();return!1!==a(u,(function(e){if(n(t,e))return c(u,"normal",!1)}))}},4527:function(e,t,o){var r=o(3724),n=o(4376),s=TypeError,i=Object.getOwnPropertyDescriptor,l=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,t){if(n(e)&&!i(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4916:function(e,t,o){var r=o(7751),n=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},s=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var o=r("Set");try{(new o)[e](n(0));try{return(new o)[e](n(-1)),!1}catch(l){if(!t)return!0;try{return(new o)[e](s(-1/0)),!1}catch(a){var i=new o;return i.add(1),i.add(2),t(i[e](s(1/0)))}}}catch(a){return!1}}},4985:function(e,t,o){o.r(t),o.d(t,{default:function(){return b}});var r=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"brand-name"},[e._v("Firefly-SubConverter")]),t("svg-icon",{staticStyle:{"margin-left":"20px"},attrs:{"icon-class":"github"},on:{click:e.goToProject}}),t("svg-icon",{staticStyle:{"margin-left":"20px"},attrs:{"icon-class":"telegram"},on:{click:e.gotoTgChannel}}),t("svg-icon",{staticStyle:{"margin-left":"20px"},attrs:{"icon-class":"clash"},on:{click:e.gotoGayhubRuleset}}),t("div",{staticStyle:{"font-style":"normal","font-size":"80%","text-align":"right","margin-top":"5px"}},[e._v(e._s(e.backendVersion)+" ")])],1),t("el-container",[t("el-form",{staticClass:"sub-form",staticStyle:{width:"100%"},attrs:{model:e.form,"label-width":"90px","label-position":"left"}},[t("el-form-item",{attrs:{label:"模式设置:"}},[t("el-radio",{attrs:{label:"1"},model:{value:e.advanced,callback:function(t){e.advanced=t},expression:" advanced "}},[e._v("基础模式")]),t("el-radio",{attrs:{label:"2"},model:{value:e.advanced,callback:function(t){e.advanced=t},expression:" advanced "}},[e._v("进阶模式")])],1),t("el-form-item",{attrs:{label:"订阅链接:"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:"4",placeholder:"支持各种订阅链接或单节点链接，多个链接每行一个或用 | 分隔"},on:{blur:e.saveSubUrl},model:{value:e.form.sourceSubUrl,callback:function(t){e.$set(e.form,"sourceSubUrl",t)},expression:" form.sourceSubUrl "}})],1),t("el-form-item",{attrs:{label:"客户端项:"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.form.clientType,callback:function(t){e.$set(e.form,"clientType",t)},expression:" form.clientType "}},e._l(e.options.clientTypes,(function(e,o){return t("el-option",{key:o,attrs:{label:o,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"远程配置:"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:""},model:{value:e.form.remoteConfig,callback:function(t){e.$set(e.form,"remoteConfig",t)},expression:" form.remoteConfig "}},[t("div",[t("el-link",{attrs:{slot:"append",icon:"el-icon-info"},on:{click:e.gotoRemoteConfig},slot:"append"},[e._v("远程配置示例")])],1),e._l(e.options.remoteConfig,(function(o){return t("el-option-group",{key:o.label,staticStyle:{width:"100%"},attrs:{"label-position":"left",label:o.label}},e._l(o.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)}))],2)],1),t("el-form-item",{attrs:{label:"后端地址:"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:""},model:{value:e.form.customBackend,callback:function(t){e.$set(e.form,"customBackend",t)},expression:" form.customBackend "}},[t("div",[t("el-link",{attrs:{slot:"append",icon:"el-icon-info"},on:{click:e.gotoGayhub},slot:"append"},[e._v("Docker快速部署Demo，前往项目仓库")])],1),e._l(e.options.customBackend,(function(e,o){return t("el-option",{key:o,attrs:{label:o,value:e}})}))],2)],1),"2"===e.advanced?t("div",[t("el-form-item",{attrs:{label:"包含节点:"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"包含有关键字的节点，支持正则"},model:{value:e.form.includeRemarks,callback:function(t){e.$set(e.form,"includeRemarks",t)},expression:" form.includeRemarks "}})],1),t("el-form-item",{attrs:{label:"排除节点:"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"不包含有关键字的节点，支持正则"},model:{value:e.form.excludeRemarks,callback:function(t){e.$set(e.form,"excludeRemarks",t)},expression:" form.excludeRemarks "}})],1),t("el-form-item",{attrs:{label:"输出文件名:"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"返回的订阅文件名"},model:{value:e.form.filename,callback:function(t){e.$set(e.form,"filename",t)},expression:" form.filename "}})],1),t("el-form-item",{attrs:{label:"Clash.TUN:"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:""},model:{value:e.form.clashdns,callback:function(t){e.$set(e.form,"clashdns",t)},expression:" form.clashdns "}},e._l(e.options.clashdns,(function(e,o){return t("el-option",{key:o,attrs:{label:o,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"远程设备:"}},[t("el-input",{attrs:{placeholder:"用于设置QuantumultX的远程设备ID"},model:{value:e.form.devid,callback:function(t){e.$set(e.form,"devid",t)},expression:" form.devid "}})],1),e._l(e.customParams,(function(o,r){return t("el-form-item",{key:r},[t("el-input",{attrs:{slot:"label",placeholder:"自定义参数名"},slot:"label",model:{value:o.name,callback:function(t){e.$set(o,"name",t)},expression:" param.name "}},[t("div",{staticStyle:{width:"10px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v(":")])]),t("el-input",{attrs:{placeholder:"自定义参数内容"},model:{value:o.value,callback:function(t){e.$set(o,"value",t)},expression:" param.value "}},[t("el-button",{staticStyle:{"margin-right":"5px"},attrs:{slot:"suffix",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.customParams.splice(r,1)}},slot:"suffix"})],1)],1)})),t("el-form-item",{staticStyle:{width:"100%","text-align":"center"},attrs:{"label-width":"0px"}},[t("el-row",{attrs:{type:"flex"}},[t("el-popover",{staticStyle:{"text-align":"center"},attrs:{placement:"bottom"},model:{value:e.form.extraset,callback:function(t){e.$set(e.form,"extraset",t)},expression:" form.extraset "}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"Clash新字段"},model:{value:e.form.new_name,callback:function(t){e.$set(e.form,"new_name",t)},expression:" form.new_name "}})],1),t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"Emoji"},model:{value:e.form.emoji,callback:function(t){e.$set(e.form,"emoji",t)},expression:" form.emoji "}})],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"启用 UDP"},model:{value:e.form.udp,callback:function(t){e.$set(e.form,"udp",t)},expression:" form.udp "}})],1),t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"节点类型"},model:{value:e.form.appendType,callback:function(t){e.$set(e.form,"appendType",t)},expression:" form.appendType "}})],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"排序节点"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:" form.sort "}})],1),t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"过滤非法节点"},model:{value:e.form.fdn,callback:function(t){e.$set(e.form,"fdn",t)},expression:" form.fdn "}})],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"TCP Fast Open"},model:{value:e.form.tfo,callback:function(t){e.$set(e.form,"tfo",t)},expression:" form.tfo "}})],1),t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"Skip Cert Verify"},model:{value:e.form.scv,callback:function(t){e.$set(e.form,"scv",t)},expression:" form.scv "}})],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"输出为 Node List"},model:{value:e.form.nodeList,callback:function(t){e.$set(e.form,"nodeList",t)},expression:" form.nodeList "}})],1),t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"开启TLS_1.3"},model:{value:e.form.tls13,callback:function(t){e.$set(e.form,"tls13",t)},expression:" form.tls13 "}})],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-checkbox",{attrs:{label:"启用 XUDP"},model:{value:e.form.xudp,callback:function(t){e.$set(e.form,"xudp",t)},expression:" form.xudp "}})],1)],1),t("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("节点处理")])],1),t("el-popover",{staticStyle:{"text-align":"center"},attrs:{placement:"bottom"},model:{value:e.form.rule,callback:function(t){e.$set(e.form,"rule",t)},expression:" form.rule "}},[t("el-row",{attrs:{gutter:10}},[t("el-checkbox",{attrs:{label:"展开规则"},model:{value:e.form.expand,callback:function(t){e.$set(e.form,"expand",t)},expression:" form.expand "}})],1),t("el-row",{attrs:{gutter:10}},[t("el-checkbox",{attrs:{label:"Classic Rule Provider"},model:{value:e.form.classic,callback:function(t){e.$set(e.form,"classic",t)},expression:" form.classic "}})],1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference"},slot:"reference"},[e._v("Rule Provider 选项")])],1),t("el-popover",{attrs:{placement:"top-end",title:"添加自定义转换参数",trigger:"hover"}},[t("el-link",{attrs:{type:"primary",href:e.subDocAdvanced,target:"_blank",icon:"el-icon-info"}},[e._v("参考文档")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference"},on:{click:e.addCustomParam},slot:"reference"},[t("i",{staticClass:"el-icon-plus"})])],1)],1)],1)],2):e._e(),t("div",{staticStyle:{"margin-top":"50px"}}),t("el-divider",{attrs:{"content-position":"center"}},[t("i",{staticClass:"el-icon-magic-stick"})]),t("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"定制订阅:","label-width":"80px","label-position":"left"}},[t("el-input",{staticClass:"copy-content",attrs:{disabled:""},model:{value:e.customSubUrl,callback:function(t){e.customSubUrl=t},expression:" customSubUrl "}},[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.customSubUrl,expression:" customSubUrl ",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:" onCopy ",arg:"success"}],ref:"copy-btn",attrs:{slot:"append",icon:"el-icon-document-copy"},slot:"append"},[e._v("复制")])],1)],1),t("el-form-item",{staticStyle:{"margin-top":"40px","text-align":"center"},attrs:{"label-width":"0px"}},[t("el-button",{staticStyle:{width:"120px"},attrs:{type:"danger",icon:"el-icon-document",disabled:0===e.form.sourceSubUrl.length},on:{click:e.makeUrl}},[e._v("生成订阅链接")]),t("el-button",{staticStyle:{width:"120px"},attrs:{type:"danger",icon:"el-icon-document-checked",disabled:0===e.customSubUrl.length},on:{click:e.clashInstall}},[e._v("一键导入Clash")])],1),t("el-form-item",{staticStyle:{"text-align":"center"},attrs:{"label-width":"0px"}},[t("el-button",{staticStyle:{width:"250px"},attrs:{type:"primary",icon:"el-icon-link",loading:e.loading},on:{click:function(t){e.dialogLoadConfigVisible=!0}}},[e._v("从URL解析")])],1)],1)],1)],1)],1)],1),t("el-dialog",{staticStyle:{"max-width":"100%"},attrs:{visible:e.dialogLoadConfigVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"80vw"},on:{"update:visible":function(t){e.dialogLoadConfigVisible=t}}},[t("div",{attrs:{slot:"title"},slot:"title"},[e._v("可以从老的订阅信息中解析信息,填入页面中去")]),t("el-form",{staticStyle:{width:"100%"},attrs:{"label-position":"left"}},[t("el-form-item",{attrs:{prop:"uploadConfig"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:15,maxRows:30},maxlength:"10000","show-word-limit":""},model:{value:e.loadConfig,callback:function(t){e.loadConfig=t},expression:" loadConfig "}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.loadConfig="",e.dialogLoadConfigVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary",disabled:0===e.loadConfig.length},on:{click:e.confirmLoadConfig}},[e._v("确 定")])],1)],1)],1)},n=[];o(4114),o(8111),o(2489),o(7588),o(1701),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);const s="https://github.com/LM-Firefly/sub-web",i="https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/MultiSub-NoReject.toml",l="https://github.com/LM-Firefly/Firefly-sub",a="https://github.com/LM-Firefly/Rules",c="https://sub.koyeb.app/sub?",u="https://t.me/subconverter_discuss",f="https://github.com/LM-Firefly/subconverter/blob/main/README-cn.md#%E8%BF%9B%E9%98%B6%E9%93%BE%E6%8E%A5";var m={data(){var e={backendVersion:"",advanced:"1",isPC:!0,options:{clientTypes:{Clash:"clash",Surge:"surge&ver=4",Surge3:"surge&ver=3",Quantumult:"quan",QuantumultX:"quanx",Singbox:"singbox",Loon:"loon",Surfboard:"surfboard","Shadowsocks(SIP002)":"ss","Shadowsocks(SIP008)":"sssub",Mellow:"mellow",ShadowsocksR:"ssr",ShadowsocksD:"ssd",Surge2:"surge&ver=2",V2Ray:"v2ray",Trojan:"trojan","混合订阅（mixed）":"mixed","自动判断客户端":"auto"},customBackend:{"localhost:25500/sub? 本地版":"http://localhost:25500/sub?","fly-sub.fly.dev/sub?":"https://fly-sub.fly.dev/sub?","sub.koyeb.app/sub?":"https://sub.koyeb.app/sub?","render-sub.onrender.com/sub?":"https://render-sub.onrender.com/sub?","subs-fireflylzh.b4a.run/sub?":"https://subs-fireflylzh.b4a.run/sub?","flysub.firefly-lm.workers.dev/sub?":"https://flysub.firefly-lm.workers.dev/sub?","sub.firefly-lm.workers.dev/sub?":"https://sub.firefly-lm.workers.dev/sub?","rensub.firefly-lm.workers.dev/sub?":"https://rensub.firefly-lm.workers.dev/sub?","subs.firefly-lm.workers.dev/sub?":"https://subs.firefly-lm.workers.dev/sub?"},clashdns:{"默认不开启TUN/TAP":"",tap:"tap","win-tun":"win-tun","linux-tun":"linux-tun","meta-tun":"meta-tun"},remoteConfig:[{label:"默认",options:[{label:"不选，由接口提供方提供",value:""}]},{label:"LM-Firefly (Online, 与Github 同步)",options:[{label:"MultiSub-NoReject",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/MultiSub-NoReject.toml"},{label:"AllSub-NoReject",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/AllSub-NoReject.toml"},{label:"MultiSub-AdBlock",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/MultiSub-AdBlock.toml"},{label:"AllSub-AdBlock",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/AllSub-AdBlock.toml"},{label:"AIO",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/AIO.toml"},{label:"AIO-NoReject",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/AIO-NoReject.toml"},{label:"CordCloud",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/CordCloud.toml"},{label:"CordCloud-NoReject",value:"https://raw.githubusercontent.com/LM-Firefly/Rules/master/Subconverter-base/CordCloud-NoReject.toml"}]},{label:"ACL4SSR (Online, 与Github 同步)",options:[{label:"ACL4SSR 默认版 分组比较全",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online.ini"},{label:"ACL4SSR 更多去广告",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_AdblockPlus.ini"},{label:"ACL4SSR 全分组 自动测速、故障转移、负载均衡",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_MultiMode.ini"},{label:"ACL4SSR 全分组 重度用户使用",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full.ini"},{label:"ACL4SSR 全分组 重度用户使用 更多去广告",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_AdblockPlus.ini"},{label:"ACL4SSR 全分组 重度用户使用 奈飞全量",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_Netflix.ini"},{label:"ACL4SSR 全分组 无自动测速 重度用户使用",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_NoAuto.ini"},{label:"ACL4SSR 精简版",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini.ini"},{label:"ACL4SSR 精简版 带港美日国家",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiCountry.ini"},{label:"ACL4SSR 精简版 更多去广告",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_AdblockPlus.ini"},{label:"ACL4SSR 精简版 带故障转移",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_Fallback.ini"},{label:"ACL4SSR 精简版 自动测速、故障转移、负载均衡",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini"},{label:"ACL4SSR 精简版 不带自动测速",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_NoAuto.ini"},{label:"ACL4SSR 无自动测速",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_NoAuto.ini"},{label:"ACL4SSR 无广告拦截规则",value:"https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_NoReject.ini"}]},{label:"Special",options:[{label:"NeteaseUnblock(仅规则，No-Urltest)",value:"https://raw.githubusercontent.com/SleepyHeeead/subconverter-config/master/remote-config/special/netease.ini"},{label:"Basic(仅GEOIP CN + Final)",value:"https://raw.githubusercontent.com/SleepyHeeead/subconverter-config/master/remote-config/special/basic.ini"}]}]},form:{appendType:!1,clashdns:"",classic:!1,clientType:"",customBackend:"",emoji:!0,excludeRemarks:"",expand:!0,extraset:!1,tls13:!1,fdn:!1,filename:"",devid:"",includeRemarks:"",insert:!1,new_name:!0,nodeList:!1,remoteConfig:"",rule:!1,scv:!1,sort:!1,sourceSubUrl:"",tfo:!1,udp:!1,xudp:!1},customParams:[],loading:!1,customSubUrl:"",loadConfig:"",dialogLoadConfigVisible:!1,myBot:u,sampleConfig:i,subDocAdvanced:f};let t=/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(t){let t=e.options.remoteConfig[1].options;for(let e=0;e<t.length;e++)t[e].label.length>10&&(t[e].label=t[e].label.replace(/\s.*/,""));var o={};let r=Object.keys(e.options.customBackend);for(let n=0;n<r.length;n++){let t=r[n].replace(/\(.*/,"");o[t]=e.options.customBackend[r[n]]}e.options.customBackend=o}return e},created(){document.title="Firefly-SubConverter",this.isPC=this.$getOS().isPc,this.form.sourceSubUrl=this.getLocalStorageItem("sourceSubUrl")},mounted(){this.form.clientType="clash",this.form.customBackend=c,this.form.remoteConfig="",this.form.clashdns="",this.notify(),this.getBackendVersion()},methods:{onCopy(){this.$message.success("Copied!")},goToProject(){window.open(s)},gotoTgChannel(){window.open(u)},gotoGayhub(){window.open(l)},gotoGayhubRuleset(){window.open(a)},gotoRemoteConfig(){window.open(i)},clashInstall(){if(""===this.customSubUrl)return this.$message.error("请先填写必填项，生成订阅链接"),!1;const e="clash://install-config?url=";window.open(e+encodeURIComponent(""!==this.curtomShortSubUrl?this.curtomShortSubUrl:this.customSubUrl))},surgeInstall(){if(""===this.customSubUrl)return this.$message.error("请先填写必填项，生成订阅链接"),!1;const e="surge://install-config?url=";window.open(e+this.customSubUrl)},addCustomParam(){this.customParams.push({name:"",value:""})},makeUrl(){if(""===this.form.sourceSubUrl||""===this.form.clientType)return this.$message.error("订阅链接与客户端为必填项"),!1;let e=""===this.form.customBackend?c:this.form.customBackend,t=""===this.form.remoteConfig?"":this.form.remoteConfig,o=this.form.sourceSubUrl;if(o=o.replace(/(\n|\r|\n\r)/g,"|"),-1!==o.indexOf("losadhwse")&&(-1!==e.indexOf("py6.pw")||-1!==e.indexOf("subconverter-web.now.sh")||-1!==e.indexOf("api.wcc.best")))return this.$alert("此机场订阅已将该后端屏蔽，请自建后端转换。","转换错误提示",{confirmButtonText:"确定",callback:e=>{this.$message({type:"error",message:`action: ${e}`})}}),!1;this.customSubUrl=e+"target="+this.form.clientType+"&url="+encodeURIComponent(o)+"&insert="+this.form.insert+"&expand="+this.form.expand.toString(),t&&(this.customSubUrl+="&config="+encodeURIComponent(t)),"2"===this.advanced&&(!1===this.form.expand&&this.form.classic&&(this.customSubUrl+="&classic="+this.form.classic.toString()),this.form.excludeRemarks&&(this.customSubUrl+="&exclude="+encodeURIComponent(this.form.excludeRemarks)),this.form.includeRemarks&&(this.customSubUrl+="&include="+encodeURIComponent(this.form.includeRemarks)),this.form.filename&&(this.customSubUrl+="&filename="+encodeURIComponent(this.form.filename)),this.form.devid&&(this.customSubUrl+="&dev_id="+encodeURIComponent(this.form.devid)),this.form.appendType&&(this.customSubUrl+="&append_type="+this.form.appendType.toString()),this.form.tfo&&(this.customSubUrl+="&tfo="+this.form.tfo.toString()),this.form.tls13&&(this.customSubUrl+="&tls13="+this.form.tls13.toString()),this.form.scv&&(this.customSubUrl+="&scv="+this.form.scv.toString()),this.form.udp&&(this.customSubUrl+="&udp="+this.form.udp.toString()),this.form.xudp&&(this.customSubUrl+="&xudp="+this.form.xudp.toString()),this.form.sort&&(this.customSubUrl+="&sort="+this.form.sort.toString()),this.form.emoji&&(this.customSubUrl+="&emoji="+this.form.emoji.toString()),this.form.nodeList&&(this.customSubUrl+="&list="+this.form.nodeList.toString()),"clash"===this.form.clientType&&(this.customSubUrl+="&new_name="+this.form.new_name.toString(),this.form.clashdns&&(this.customSubUrl+="&clash.dns="+encodeURIComponent(this.form.clashdns))),this.form.fdn&&(this.customSubUrl+="&fdn="+this.form.fdn.toString()),this.customParams.filter((e=>e.name&&e.value)).forEach((e=>{this.customSubUrl+=`&${encodeURIComponent(e.name)}=${encodeURIComponent(e.value)}`}))),this.$copyText(this.customSubUrl),this.$message.success("定制订阅已复制到剪贴板")},notify(){const e=this.$createElement;this.$notify({title:"隐私提示",type:"warning",message:e("i",{style:"color: teal"},"各种订阅链接生成纯前端实现，无隐私问题。默认提供后端转换服务，隐私担忧者请自行搭建后端服务。")})},async analyzeUrl(){if(this.loadConfig.includes("target"))return this.loadConfig;this.loading=!0;try{let e=await fetch(this.loadConfig,{method:"GET",redirect:"follow"});return e.url}catch(e){this.$message.error("解析短链接失败，请检查短链接服务端是否配置跨域："+e)}finally{this.loading=!1}},confirmLoadConfig(){if(""===this.loadConfig.trim())return this.$message.error("订阅链接不能为空"),!1;(async()=>{try{const e=new URL(await this.analyzeUrl());this.form.customBackend=e.origin+e.pathname+"?";const t=new URLSearchParams(e.search),o=t.get.bind(t),r=new Set;t.get=e=>(r.add(e),o(e));const n=t.get("target");if("surge"===n){const e=t.get("ver")||"4";this.form.clientType=n+"&ver="+e}else this.form.clientType=n;t.get("url")&&(this.form.sourceSubUrl=t.get("url").replace(/\|/g,"\n")),t.get("insert")&&(this.form.insert="true"===t.get("insert")),t.get("config")&&(this.form.remoteConfig=t.get("config")),t.get("exclude")&&(this.form.excludeRemarks=t.get("exclude")),t.get("include")&&(this.form.includeRemarks=t.get("include")),t.get("filename")&&(this.form.filename=t.get("filename")),t.get("dev_id")&&(this.form.devid=t.get("dev_id")),t.get("append_type")&&(this.form.appendType="true"===t.get("append_type")),t.get("tfo")&&(this.form.tfo="true"===t.get("tfo")),t.get("tls13")&&(this.form.tls13="true"===t.get("tls13")),t.get("scv")&&(this.form.scv="true"===t.get("scv")),t.get("udp")&&(this.form.udp="true"===t.get("udp")),t.get("xudp")&&(this.form.xudp="true"===t.get("xudp")),t.get("sort")&&(this.form.sort="true"===t.get("sort")),t.get("emoji")&&(this.form.emoji="true"===t.get("emoji")),t.get("list")&&(this.form.nodeList="true"===t.get("list")),t.get("clash.dns")&&(this.form.clashdns=t.get("clash.dns")),t.get("new_name")&&(this.form.new_name="true"===t.get("new_name")),t.get("fdn")&&(this.form.fdn="true"===t.get("fdn")),t.get("expand")&&(this.form.expand="true"===t.get("expand")),t.get("classic")&&(this.form.classic="false"===t.get("classic")),this.customParams=Array.from(t.entries().filter((e=>!r.has(e[0]))).map((e=>({name:e[0],value:e[1]})))),this.dialogLoadConfigVisible=!1,this.$message.success("长/短链接已成功解析为订阅信息")}catch(e){this.$message.error("请输入正确的订阅地址!")}})()},renderPost(){let e=new FormData;return e.append("target",encodeURIComponent(this.form.clientType)),e.append("url",encodeURIComponent(this.form.sourceSubUrl)),e.append("insert",encodeURIComponent(this.form.insert)),e.append("config",encodeURIComponent(this.form.remoteConfig)),e.append("exclude",encodeURIComponent(this.form.excludeRemarks)),e.append("include",encodeURIComponent(this.form.includeRemarks)),e.append("filename",encodeURIComponent(this.form.filename.toString())),e.append("dev_id",encodeURIComponent(this.form.devid.toString())),e.append("append_type",encodeURIComponent(this.form.appendType.toString())),e.append("tfo",encodeURIComponent(this.form.tfo.toString())),e.append("tls13",encodeURIComponent(this.form.tls13.toString())),e.append("scv",encodeURIComponent(this.form.scv.toString())),e.append("udp",encodeURIComponent(this.form.udp.toString())),e.append("xudp",encodeURIComponent(this.form.xudp.toString())),e.append("sort",encodeURIComponent(this.form.sort.toString())),e.append("emoji",encodeURIComponent(this.form.emoji.toString())),e.append("list",encodeURIComponent(this.form.nodeList.toString())),e.append("clash.dns",encodeURIComponent(this.form.clashdns.toString())),e.append("newname",encodeURIComponent(this.form.new_name.toString())),e.append("fdn",encodeURIComponent(this.form.fdn.toString())),e.append("expand",encodeURIComponent(this.form.expand.toString())),e.append("classic",encodeURIComponent(this.form.classic.toString())),e},backendSearch(e,t){let o=this.options.customBackend,r=e?o.filter(this.createFilter(e)):o;t(r)},createFilter(e){return t=>0===t.value.toLowerCase().indexOf(e.toLowerCase())},getBackendVersion(){this.$axios.get(c.substring(0,c.length-5)+"/version").then((e=>{this.backendVersion=e.data.replace(/backend\n$/gm,""),this.backendVersion=this.backendVersion.replace("subconverter","")}))},saveSubUrl(){""!==this.form.sourceSubUrl&&this.setLocalStorageItem("sourceSubUrl",this.form.sourceSubUrl)},getLocalStorageItem(e){const t=+new Date;let o=localStorage.getItem(e),r="";if(null!==o){let n=JSON.parse(o);n.expire>t?r=n.value:localStorage.removeItem(e)}return r},setLocalStorageItem(e,t){const o="86400",r=+new Date;let n={setTime:r,ttl:parseInt(o),expire:r+1e3*o,value:t};localStorage.setItem(e,JSON.stringify(n))}}},d=m,p=o(1656),h=(0,p.A)(d,r,n,!1,null,null,null),b=h.exports},5024:function(e,t,o){var r=o(6518),n=o(3650),s=o(4916);r({target:"Set",proto:!0,real:!0,forced:!s("symmetricDifference")},{symmetricDifference:n})},5170:function(e,t,o){var r=o(6706),n=o(4402);e.exports=r(n.proto,"size","get")||function(e){return e.size}},5876:function(e,t,o){var r=o(6518),n=o(3838),s=o(4916),i=!s("isSubsetOf",(function(e){return e}));r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:n})},6080:function(e,t,o){var r=o(7476),n=o(9306),s=o(616),i=r(r.bind);e.exports=function(e,t){return n(e),void 0===t?e:s?i(e,t):function(){return e.apply(t,arguments)}}},6269:function(e){e.exports={}},6706:function(e,t,o){var r=o(9504),n=o(9306);e.exports=function(e,t,o){try{return r(n(Object.getOwnPropertyDescriptor(e,t)[o]))}catch(s){}}},6837:function(e){var t=TypeError,o=9007199254740991;e.exports=function(e){if(e>o)throw t("Maximum allowed index exceeded");return e}},6955:function(e,t,o){var r=o(2140),n=o(4901),s=o(2195),i=o(8227),l=i("toStringTag"),a=Object,c="Arguments"===s(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(o){}};e.exports=r?s:function(e){var t,o,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=u(t=a(e),l))?o:c?s(t):"Object"===(r=s(t))&&n(t.callee)?"Arguments":r}},7080:function(e,t,o){var r=o(4402).has;e.exports=function(e){return r(e),e}},7476:function(e,t,o){var r=o(2195),n=o(9504);e.exports=function(e){if("Function"===r(e))return n(e)}},7588:function(e,t,o){var r=o(6518),n=o(9565),s=o(2652),i=o(9306),l=o(8551),a=o(1767),c=o(9539),u=o(4549),f=u("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:f},{forEach:function(e){l(this);try{i(e)}catch(r){c(this,"throw",r)}if(f)return n(f,this,e);var t=a(this),o=0;s(t,(function(t){e(t,o++)}),{IS_RECORD:!0})}})},7642:function(e,t,o){var r=o(6518),n=o(3440),s=o(4916),i=!s("difference",(function(e){return 0===e.size}));r({target:"Set",proto:!0,real:!0,forced:i},{difference:n})},8004:function(e,t,o){var r=o(6518),n=o(9039),s=o(8750),i=o(4916),l=!i("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||n((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));r({target:"Set",proto:!0,real:!0,forced:l},{intersection:s})},8469:function(e,t,o){var r=o(9504),n=o(507),s=o(4402),i=s.Set,l=s.proto,a=r(l.forEach),c=r(l.keys),u=c(new i).next;e.exports=function(e,t,o){return o?n({iterator:c(e),next:u},t):a(e,t)}},8527:function(e,t,o){var r=o(7080),n=o(4402).has,s=o(5170),i=o(3789),l=o(507),a=o(9539);e.exports=function(e){var t=r(this),o=i(e);if(s(t)<o.size)return!1;var c=o.getIterator();return!1!==l(c,(function(e){if(!n(t,e))return a(c,"normal",!1)}))}},8750:function(e,t,o){var r=o(7080),n=o(4402),s=o(5170),i=o(3789),l=o(8469),a=o(507),c=n.Set,u=n.add,f=n.has;e.exports=function(e){var t=r(this),o=i(e),n=new c;return s(t)>o.size?a(o.getIterator(),(function(e){f(t,e)&&u(n,e)})):l(t,(function(e){o.includes(e)&&u(n,e)})),n}},9286:function(e,t,o){var r=o(4402),n=o(8469),s=r.Set,i=r.add;e.exports=function(e){var t=new s;return n(e,(function(e){i(t,e)})),t}}}]);
//# sourceMappingURL=985.c891297e.js.map